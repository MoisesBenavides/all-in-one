<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reserva de Parking de Largo Plazo | AIO</title>
    <link rel="stylesheet" href="../../../css/styles.css">
    <link rel="icon" type="image/x-icon" href="../../../ico/logo-positivo.ico">
    <script>
        // Dropdown functionality
        document.addEventListener('DOMContentLoaded', (event) => {
            const dropdownButtons = document.querySelectorAll('#dropdownButton');

            dropdownButtons.forEach((button) => {
                const dropdownMenu = button.nextElementSibling;

                button.addEventListener('click', () => {
                    dropdownMenu.classList.toggle('hidden');
                });

                const options = dropdownMenu.querySelectorAll('.option');

                options.forEach((option) => {
                    option.addEventListener('click', () => {
                        const selectedOption = button.querySelector('#selectedOption');
                        selectedOption.textContent = option.textContent;

                        const selectedInput = button.nextElementSibling.nextElementSibling;
                        selectedInput.value = option.dataset.value;

                        dropdownMenu.classList.add('hidden');
                    });
                });
            });
        });
    </script>
</head>
<style>
    @font-face {
        font-family: 'Teachers';
        src: url('../../../font/Teachers-VariableFont_wght.ttf');
        font-weight: normal;
        font-style: normal;
    }

    /* Apply the 'Teachers' font to all text elements */
    body, input, select, button, option {
        font-family: 'Teachers', sans-serif;
    }
</style>
<header class=" w-screen  "></header>
    <link rel="stylesheet" href="../../../css/styles.css">
    <div class="container bg-alternativo mx-auto px-4 py-4">
        <div class="relative flex flex-col md:flex-row justify-between items-center">
            
            <!-- Hamburguesa (visible solo en móviles) - Posicionada en la esquina superior izquierda -->
            <div class="absolute top-2 left-4 md:hidden">
                <button id="hamburger" class="text-black focus:outline-none">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                    </svg>
                </button>
            </div>

            <!-- Logo -->
            <div class="w-40 h-auto mb-4 md:mb-0 mx-auto md:mx-0">
                <img class="w-full h-auto" src="../../../img/AIO Parking positivo.png" alt="AIO Logo" />
            </div>

            <!-- Navegación - visible solo en pantallas medianas y grandes -->
            <nav class="hidden md:flex flex-wrap justify-center md:justify-end space-x-2 md:space-x-4">
                <a href="index.php?action=aioParkingBookSimple" class="text-black text-xs sm:text-sm md:text-lg lg:text-xl font-bold   ">Reservar</a>
                <a href="index.php?action=aioParkingBookLongTerm" class="text-black text-xs sm:text-sm md:text-lg lg:text-xl font-bold   ">Reservar a largo plazo</a>
                <a href="#" class="text-black text-xs sm:text-sm md:text-lg lg:text-xl font-bold   ">Mis Reservas</a>
                <a href="#" class="text-black text-xs sm:text-sm md:text-lg lg:text-xl font-bold   ">FAQ</a>
            </nav>

            <!-- User icon - Alineado a la derecha en móviles -->
            <div class="absolute top-2 right-4 md:static">
                <img class="w-10 h-10" src="../../../img/user.png" alt="User">
            </div>
        </div>

        <!-- Menú hamburguesa desplegable (oculto por defecto) -->
        <nav id="mobileMenu" class="hidden md:hidden mt-4 space-y-2">
            <a href="index.php?action=aioParkingBookSimple" class="block text-black text-sm font-bold   ">Reservar</a>
            <a href="index.php?action=aioParkingBookLongTerm" class="block text-black text-sm font-bold   ">Reservar a largo plazo</a>
            <a href="#" class="block text-black text-sm font-bold   ">Mis Reservas</a>
            <a href="#" class="block text-black text-sm font-bold   ">FAQ</a>
        </nav>
    </div>

    <script>
        // Lógica del menú hamburguesa
        const hamburger = document.getElementById('hamburger');
        const mobileMenu = document.getElementById('mobileMenu');

        hamburger.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
    </script>
       <script>
        const dropdownButton = document.getElementById('dropdownButton');
        const dropdownMenu = document.getElementById('dropdownMenu');
        const selectedOption = document.getElementById('selectedOption');
        const options = document.querySelectorAll('.option');
        const hiddenInput = document.getElementById('selectedVehicleType');
        const arrow = dropdownButton.querySelector('svg');
        const priceInfo = document.getElementById('priceInfo');

        dropdownButton.addEventListener('click', () => {
            dropdownMenu.classList.toggle('hidden');
            arrow.classList.toggle('rotate-180');
        });

        options.forEach(option => {
            option.addEventListener('click', () => {
                selectedOption.textContent = option.textContent;
                hiddenInput.value = option.getAttribute('data-value');
                dropdownMenu.classList.add('hidden');
                arrow.classList.remove('rotate-180');

                // Mostrar el precio por hora
                const price = option.getAttribute('data-price');
                priceInfo.textContent = `Precio por hora: ${price} pesos`;
                priceInfo.classList.remove('hidden');
            });
        });

        // Cerrar el menú si se hace clic fuera de él
        window.addEventListener('click', (e) => {
            if (!dropdownButton.contains(e.target) && !dropdownMenu.contains(e.target)) {
                dropdownMenu.classList.add('hidden');
                arrow.classList.remove('rotate-180');
            }
        });
    </script>
</header>
<body class="bg-white">

    <main class="container mx-auto px-4 py-8">
        <div class="max-w-3xl mx-auto space-y-12">
            <section>
                <h2 class="text-center text-black text-2xl font-semibold  mb-4 bg-neutral-200 rounded-[5px] border border-black py-2">Ingrese la fecha</h2>
                <div class="w-full max-w-[340px] mx-auto">
                    <input type="datetime-local" class="w-full h-[60px] px-[22px] py-3.5 bg-white rounded-[10px] border border-[#161212] text-center text-black text-xl font-semibold ">
                </div>
            </section>

            <section>
                <h2 class="text-center text-black text-2xl font-semibold  mb-4 bg-neutral-200 rounded-[5px] border border-black py-2">Ingrese El tipo de vehículo</h2>
                <form id="vehicleForm" action="proceso.php" method="POST" class="w-full max-w-[340px] mx-auto">
                    <div class="relative mb-2">
                        <div id="dropdownButton" class="w-full h-[60px] px-[22px] py-3.5 bg-white rounded-[10px] border border-[#161212] flex justify-between items-center cursor-pointer">
                            <div id="selectedOption" class="text-center text-black text-xl font-semibold ">Tipo</div>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6 transition-transform duration-300">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                        <div id="dropdownMenu" class="absolute z-10 right-0 top-0 mt-12 w-48 bg-white rounded-lg border border-[#161212] shadow-lg hidden">
                            <div class="py-1">
                                <div class="option cursor-pointer px-[22px] py-3.5 hover:bg-gray-100" data-value="1" data-price="100">Motocicleta</div>
                                <div class="option cursor-pointer px-[22px] py-3.5 hover:bg-gray-100" data-value="2" data-price="250">Camioneta</div>
                                <div class="option cursor-pointer px-[22px] py-3.5 hover:bg-gray-100" data-value="3" data-price="200">Auto</div>
                                <div class="option cursor-pointer px-[22px] py-3.5 hover:bg-gray-100" data-value="4" data-price="300">Pequeño camión</div>
                            </div>
                        </div>
                    </div>
                    <div id="priceInfo" class="text-center text-black text-sm font-semibold  hidden"></div>
                    <input type="hidden" id="selectedVehicleType" name="vehicleType" value="">
                </form>
    
                <h2 class="text-center text-black text-2xl font-semibold  mb-4 bg-neutral-200 rounded-[5px] border border-black py-2">Ingrese El tipo de reserva</h2>
                <form id="vehicleForm" action="proceso.php" method="POST" class="w-full max-w-[340px] mx-auto">
                    <div class="relative mb-2">
                        <div id="dropdownButton" class="w-full h-[60px] px-[22px] py-3.5 bg-white rounded-[10px] border border-[#161212] flex justify-between items-center cursor-pointer">
                            <div id="selectedOption" class="text-center text-black text-xl font-semibold ">Tipo</div>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6 transition-transform duration-300">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                        <div id="dropdownMenu" class="absolute z-10 right-0 top-0 mt-12 w-48 bg-white rounded-lg border border-[#161212] shadow-lg hidden">
                            <div class="py-1">
                                <div class="option cursor-pointer px-[22px] py-3.5 hover:bg-gray-100" >Semanal</div>
                                <div class="option cursor-pointer px-[22px] py-3.5 hover:bg-gray-100" >Quincena</div>
                                <div class="option cursor-pointer px-[22px] py-3.5 hover:bg-gray-100" >Mensual</div>
                                <div class="option cursor-pointer px-[22px] py-3.5 hover:bg-gray-100" >Anual</div>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" id="sTipoReserva" name="TipoReserva" value="">
                </form>
            </section>
            <section class="text-center">
                <button class="w-full max-w-[340px] h-[62px] px-7 py-2.5 bg-[#950d03] rounded-lg text-neutral-50 text-[32px] font-bold  leading-[51.78px]">
                    Continuar
                </button>
            </section>

            <section>
                <h2 class="text-center text-black text-2xl font-semibold  mb-4 bg-neutral-200 rounded-[5px] border border-black py-2">Tus vehículos</h2>
                <div class="relative w-full max-w-[340px] mx-auto">
                    <select id="vehiculosDropdown" class="w-full h-[60px] px-[22px] py-3.5 bg-white rounded-[10px] border border-[#161212] text-center text-black text-xl font-semibold ">
                        <option value="">Selecciona un vehículo</option>
                        <!-- Aquí se insertarán las matrículas de los vehículos -->
                    </select>
                </div>
                <script>
                    function cargarMisVehiculos() {
                       $.ajax({
                          url: 'data/misVehiculos.json',  // Ruta del archivo JSON
                          dataType: 'json',  // El tipo de datos que se espera es JSON
                          success: function(response) {
                             var vehiculosDropdown = $('#vehiculosDropdown');
                             vehiculosDropdown.find('option:not(:first)').remove();  // Limpiar las opciones previas
                 
                             if (response.length === 0) {
                                // Si no hay vehículos, deshabilitar el dropdown
                                vehiculosDropdown.prop('disabled', true);
                             } else {
                                // Llenar el dropdown con los vehículos
                                response.forEach(function(vehiculo) {
                                   var matricula = vehiculo.matricula;
                                   var tipo = vehiculo.tipo;
                 
                                   // Agregar cada vehículo al dropdown
                                   vehiculosDropdown.append($('<option>', {
                                      value: matricula,
                                      text: matricula + ' - ' + tipo
                                   }));
                                });
                 
                                // Habilitar el dropdown si hay vehículos
                                vehiculosDropdown.prop('disabled', false);
                             }
                          },
                          error: function(xhr, status, error) {
                             console.error('Error al cargar los vehículos desde el archivo JSON:', error);
                          }
                       });
                    }
                 
                    // Ejecutar la función cuando se cargue la página
                    $(document).ready(function() {
                       cargarMisVehiculos();
                    });
                 </script>
            </section>
        </div>
    </main>

 
</body>
</html>
